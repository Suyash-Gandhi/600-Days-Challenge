

## 5. Rendering Lists with `map()` and Handling `key` in React

Rendering lists is one of the most common and most important React patterns. Almost every real app (todos, products, messages, posts, users) uses it.

---

## 1Ô∏è‚É£ Why do we need `map()` in React?

React cannot directly render arrays of objects.
But it can render arrays of JSX elements.

So we use JavaScript‚Äôs `map()` to:

 Take an array of data
 Convert each item into JSX
 Return a new array of JSX elements

---

## 2Ô∏è‚É£ Basic Example: Rendering a List

### Example: List of fruits

```jsx
function FruitList() {
  const fruits = ["Apple", "Banana", "Mango", "Orange"];

  return (
    <div>
      <h2>Fruits</h2>
      <ul>
        {fruits.map((fruit) => (
          <li>{fruit}</li>
        ))}
      </ul>
    </div>
  );
}

export default FruitList;
```

### What‚Äôs happening?

 `fruits.map(...)` loops through the array
 Each item returns `<li>{fruit}</li>`
 React renders all `<li>` elements

‚ö†Ô∏è This will show a warning
Because we didn‚Äôt provide a `key`.

---

## 3Ô∏è‚É£ What is `key` and Why is it Important?

### Key points (very important for interviews üëá)

 `key` is a special prop used by React
 It helps React identify which items changed, added, or removed
 Improves performance and correct UI updates

React uses keys during reconciliation (diffing old vs new UI).

---

## 4Ô∏è‚É£ Correct Way: Using `key`

### Using index (NOT recommended, but acceptable sometimes)

```jsx
{fruits.map((fruit, index) => (
  <li key={index}>{fruit}</li>
))}
```

‚ö†Ô∏è Problem:

 If items are reordered, added, or deleted ‚Üí UI bugs can happen

---

## 5Ô∏è‚É£ Best Practice: Use a Unique ID

### Example: Objects with IDs (Recommended)

```jsx
function UserList() {
  const users = [
    { id: 1, name: "Suyash" },
    { id: 2, name: "Rahul" },
    { id: 3, name: "Aman" },
  ];

  return (
    <div>
      <h2>Users</h2>
      <ul>
        {users.map((user) => (
          <li key={user.id}>{user.name}</li>
        ))}
      </ul>
    </div>
  );
}

export default UserList;
```

### Why this is correct?

 `id` is stable
 React can track each item correctly
 No rendering bugs

---

## 6Ô∏è‚É£ Rendering Complex JSX in `map()`

You are not limited to one tag.

```jsx
function ProductList() {
  const products = [
    { id: 101, name: "Laptop", price: 50000 },
    { id: 102, name: "Phone", price: 20000 },
  ];

  return (
    <div>
      {products.map((product) => (
        <div key={product.id} className="product-card">
          <h3>{product.name}</h3>
          <p>‚Çπ{product.price}</p>
        </div>
      ))}
    </div>
  );
}

export default ProductList;
```

---

## 7Ô∏è‚É£ Conditional Rendering Inside `map()`

Very common in real apps.

```jsx
function ScoreList() {
  const scores = [95, 42, 78, 30];

  return (
    <ul>
      {scores.map((score, index) => (
        <li key={index}>
          {score >= 50 ? "Pass" : "Fail"} - {score}
        </li>
      ))}
    </ul>
  );
}

export default ScoreList;
```

---

## 8Ô∏è‚É£ `key` Rules You MUST Remember

‚úîÔ∏è `key` must be:

 Unique among siblings
 Stable (should not change)

‚ùå Don‚Äôt:

 Use `Math.random()` as key
 Use index when list can change order

---

## 9Ô∏è‚É£ Common Mistakes (Very Important)

### ‚ùå Wrong: Key on child, not parent

```jsx
{users.map((user) => (
  <User key={user.id} user={user} />
))}
```

‚úîÔ∏è This is correct
Key should be on the component returned by map

---

### ‚ùå Wrong: Using index when list is dynamic

```jsx
<li key={index}>{item}</li>
```

‚úîÔ∏è Use index only when:

 List is static
 No add/remove/reorder

---

## 10Ô∏è‚É£ Interview-Ready Summary

 `map()` converts data ‚Üí JSX
 `key` helps React optimize rendering
 Always prefer unique IDs
 Avoid index keys in dynamic lists
 Keys are not accessible as props

---

