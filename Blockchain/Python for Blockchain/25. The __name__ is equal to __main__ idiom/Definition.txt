### 25. The `__name__ == "__main__"` idiom (Python)



## 1Ô∏è‚É£ What is `__name__`?

 `__name__` is a built-in variable in Python
 Python automatically assigns a value to it

The value depends on how the file is used.

---

## 2Ô∏è‚É£ Two ways a Python file can be used

A Python file can be:

### üîπ Case 1: Run directly

```bash
python file.py
```

### üîπ Case 2: Imported into another file

```python
import file
```

Python needs a way to know which case is happening
That‚Äôs where `__name__` comes in.

---

## 3Ô∏è‚É£ What values can `__name__` have?

### ‚úÖ If the file is run directly

```python
__name__ == "__main__"
```

### ‚úÖ If the file is imported

```python
__name__ == "filename"
```

(Where `filename` is the file‚Äôs name without `.py`)

---

## 4Ô∏è‚É£ Basic example (very important)

### üìÑ `example.py`

```python
print(__name__)
```

### ‚ñ∂ Running directly

```bash
python example.py
```

Output:

```text
__main__
```

### üìÑ `main.py`

```python
import example
```

Output:

```text
example
```

üëâ Same file, different `__name__` value

---

## 5Ô∏è‚É£ Why do we use `if __name__ == "__main__"`?

Because we don‚Äôt want certain code to run when the file is imported.

### Without the idiom ‚ùå

```python
def add(a, b):
    return a + b

print(add(2, 3))
```

If you import this file:

```python
import example
```

‚û°Ô∏è The `print(add(2, 3))` will run automatically
This is often undesirable

---

## 6Ô∏è‚É£ Using the idiom (correct way) ‚úÖ

```python
def add(a, b):
    return a + b

if __name__ == "__main__":
    print(add(2, 3))
```

### Behavior now:

| Situation    | What runs                 |
| ------------ | ------------------------- |
| Run directly | Function + print          |
| Import file  | Only functions are loaded |

---

## 7Ô∏è‚É£ Real-world interpretation (important intuition)

Think of it like this:

> ‚ÄúRun this code ONLY if this file is the main program, not if it‚Äôs being reused.‚Äù

---

## 8Ô∏è‚É£ Common real-world use cases

### ‚úÖ Testing code

```python
def square(x):
    return x  x

if __name__ == "__main__":
    print(square(5))
```

### ‚úÖ Scripts + libraries combined

 File works as a standalone program
 Same file works as a reusable module

---

## 9Ô∏è‚É£ Example with multiple files (clear mental model)

### üìÑ `math_utils.py`

```python
def multiply(a, b):
    return a  b

if __name__ == "__main__":
    print(multiply(3, 4))
```

### üìÑ `app.py`

```python
import math_utils

print(math_utils.multiply(5, 6))
```

### Output:

```text
30
```

üö´ `print(multiply(3, 4))` does NOT run
Because `math_utils` is imported, not executed

---

## üîü Why `"__main__"` specifically?

 `"__main__"` is a special reserved name
 Python assigns it to the entry-point file
 Only one file gets `__name__ == "__main__"`

---

## 1Ô∏è‚É£1Ô∏è‚É£ Interview-ready one-liner

> The `if __name__ == "__main__"` idiom ensures that code runs only when a file is executed directly, not when it is imported as a module.

---

## 1Ô∏è‚É£2Ô∏è‚É£ Key takeaways (memorize this)

 `__name__` tells Python how a file is being used
 `"__main__"` means this file is the starting point
 The idiom prevents unwanted execution on import
 Essential for clean, reusable, professional code

---
